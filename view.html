<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ê¸€ ë³´ê¸° Â· Ha-Bin Studio</title>
<link rel="stylesheet" href="style.css">

<style>
/* ------- í˜ì´ì§€ í­ ------- */
.view-container {
  max-width: 900px;
  margin: 0 auto;
  padding: 0 20px 120px;
}

/* ------- ì œëª© ìŠ¤íƒ€ì¼ (ë‰´ìŠ¤ ìŠ¤íƒ€ì¼) ------- */
.view-title {
  font-size: 28px;
  font-weight: 800;
  color: #222;
  margin-bottom: 8px;
  line-height: 1.4;
}

/* ê³µì§€ ë°°ì§€ */
.notice-badge {
  display: inline-block;
  margin-right: 6px;
  padding: 4px 8px;
  background: #FFF1A8;
  border: 1px solid #E2C55A;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 700;
  color: #8A6B00;
}

/* ------- ì‘ì„±ì/ë‚ ì§œ ------- */
.view-info {
  color: #777;
  font-size: 14px;
  border-bottom: 1px solid #e5e5e5;
  padding-bottom: 10px;
  margin-bottom: 20px;
}

/* ------- ë³¸ë¬¸ ì˜ì—­ ------- */
.view-content {
  font-size: 17px;
  line-height: 1.8;
  color: #2b2b2b;
  margin-bottom: 40px;
  word-break: break-all;
}

/* ì—ë””í„°ì—ì„œ ë„£ì€ ì´ë¯¸ì§€ ìë™ ì¤‘ì•™ */
.view-content img {
  max-width: 100%;
  display: block;
  margin: 14px auto;
  border-radius: 8px;
}

/* ------- ë²„íŠ¼ ------- */
.view-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.view-btn {
  padding: 8px 16px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
}

.btn-edit { background: #3558A8; color: white; }
.btn-edit:hover { background: #5C8EDB; }

.btn-delete { background: #D9534F; color: white; }
.btn-delete:hover { background: #C3413B; }

.btn-list { background: #CCC; color: black; }
.btn-list:hover { background: #bbb; }
</style>

</head>

<body>

<script src="secret-gate.js"></script>

<div class="view-container">

  <h1 class="view-title" id="view-title"></h1>
  <div class="view-info" id="view-info"></div>

  <div class="view-content" id="view-content"></div>

  <div class="view-buttons">
    <button class="view-btn btn-edit" id="editBtn">ìˆ˜ì •</button>
    <button class="view-btn btn-delete" id="deleteBtn">ì‚­ì œ</button>
    <button class="view-btn btn-list" onclick="location.href='list.html'">ëª©ë¡</button>
  </div>

</div>

<script>
/* ---------------------------------------------------
   ğŸ“Œ URLì—ì„œ id ê°€ì ¸ì˜¤ê¸°
--------------------------------------------------- */
const params = new URLSearchParams(window.location.search);
const postId = params.get("id");

let posts = JSON.parse(localStorage.getItem("habin_posts") || "[]");
const post = posts.find(p => p.id == postId);

/* ---------------------------------------------------
   ğŸ“Œ ê¸€ ë°ì´í„° í‘œì‹œ
--------------------------------------------------- */
if (post) {
  const titleEl = document.getElementById("view-title");
  const infoEl = document.getElementById("view-info");
  const contentEl = document.getElementById("view-content");

  /* ê³µì§€ ë°°ì§€ ë¶™ì´ê¸° */
  let badge = post.isNotice ? `<span class="notice-badge">ğŸ“Œ ê³µì§€</span>` : "";

  titleEl.innerHTML = badge + post.title;
  infoEl.innerHTML = `ì‘ì„±ì: ${post.writer} Â· ${post.date}`;
  contentEl.innerHTML = post.content;
}

/* ---------------------------------------------------
   ğŸ“Œ ë²„íŠ¼ ê¸°ëŠ¥
--------------------------------------------------- */
document.getElementById("editBtn").onclick = () => {
  location.href = `editor.html?id=${postId}`;
};

document.getElementById("deleteBtn").onclick = () => {
  if (!confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;

  posts = posts.filter(p => p.id != postId);
  localStorage.setItem("habin_posts", JSON.stringify(posts));
  location.href = "list.html";
};
</script>

</body>
</html>


