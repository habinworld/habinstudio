<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ImageStore Test</title>
</head>
<body>

<h3>이미지 저장소 테스트</h3>

<input type="file" id="imgTest">
<button id="saveImg">이미지 저장</button>

<hr>

<img id="preview" style="max-width:300px;">

<script src="image-store.js"></script>
<script>
  document.getElementById("saveImg").onclick = () => {
    const file = document.getElementById("imgTest").files[0];
    if (!file) {
      alert("이미지를 선택하세요");
      return;
    }

    // 1️⃣ 저장
    const id = ImageStore.save(file);
    console.log("저장 요청 ID:", id);

    // 2️⃣ 잠깐 후 다시 불러오기
    setTimeout(() => {
      const src = ImageStore.load(id);
      document.getElementById("preview").src = src;
      console.log("불러오기 완료:", id);
    }, 500);
  };
</script>

</body>
</html>
