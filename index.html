<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>í•˜ë¹ˆ ìŠ¤íŠœë””ì˜¤ Â· ë‚®ì—” ì •ì›, ë°¤ì—” ì²œë¬¸ëŒ€</title>

<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="sidebar.css"> 
<link rel="stylesheet" href="toolbar.css">
<link rel="stylesheet" href="editor.css">
<link rel="stylesheet" href="main-grid.css">

 <style>
    .main-page .main-board-header h2 {
      font-size: 25px;
      font-weight: 700;
      margin: 0;
    }
  </style>
 </head>
<body class="main-page">
<!-- ğŸ”· ê³„ì ˆ ì…ì ë°°ê²½ -->
<canvas id="season-canvas"></canvas>
 
 <!-- ğŸ”¥ ë ˆì´ì•„ì›ƒ ì „ë‹´ ë˜í¼ -->
  <div id="layout">

<div id="sidebar-container"></div>
 
<!-- ğŸ”· ë©”ì¸ ì½˜í…ì¸  -->
  <main id="content">
 <!-- ğŸ”· ëŒ€ë¬¸ ì¸ì‚¬ ë°•ìŠ¤ -->
  <div class="top-banner">
    Ha-Bin Studio : ë¬´ì¸ë„ì— ë‚˜ë§Œì˜ ë§ˆì„ì„ ì§“ë‹¤
  </div>
    
   <!-- ğŸ”· íƒ‘ë©”ë‰´ -->
  <div class="top-menu">
    <a href="list.html">ğŸ“š í•œê¸€ê²Œì‹œíŒ</a>
    <a href="#english">ğŸŒ ì˜ì–´ê²Œì‹œíŒ</a>
    <a href="#question">â“ ì§ˆë¬¸ì˜ ê³µê°„</a>
    <a href="#forge">ğŸ”¥âš’ï¸ ëŒ€ì¥ê°„</a>
    <a href="#gallery">ğŸ–¼ï¸ ê°¤ëŸ¬ë¦¬</a>
    <a href="#video">â–¶ï¸ ë™ì˜ìƒ</a>
    <a href="#notice">ğŸ“¢ ê³µì§€ì‚¬í•­</a>
    <a href="#etc">ğŸ¢ğŸš€ ê¸°íƒ€</a>
  </div>
   
  <!-- âœ… ë³¸ë¬¸ ì‹œì‘ -->
  <div class="content-inner"> 
<div id="notice-section" style="margin-left:0; margin-top:25px; display:none;">
  <h3 style="margin-left:10px; margin-bottom:10px; font-size:18px; font-weight:700; color:#9A3412;">
    ğŸ“¢ ê³µì§€ì‚¬í•­
    <span style="font-size:16px; color:#FACC15; margin-left:6px;">
      (ê´€ë¦¬ì habinstudio@naver.com)
    </span>
  </h3>
    <div id="notice-list"></div>
  </div>
 
   <!-- ë¦¬ìŠ¤íŠ¸ëª©ë¡ì„ ë©”ì¸ì— ì¶œë ¥ -->
   <div class="main-board-header">
  <h2>/ í•œê¸€ê²Œì‹œíŒ /</h2>
  <a href="list.html" class="btn">ì „ì²´ë³´ê¸°</a>
</div> 
<table class="post-table">
  <thead>
    <tr>
      <th style="width:60px;">ë²ˆí˜¸</th>
      <th style="width:120px;">ì‘ì„±ì</th>
      <th>ì œëª©</th>
      <th style="width:150px;">ë‚ ì§œ</th>
    </tr>
  </thead>
  <tbody id="main-post-list"></tbody>
</table>
  <div id="pagination" class="pagination"></div> 
  <div class="grid-floor">
  <div id="current-exhibit" class="main-grid"></div>
</div>
 </div>
  <!-- âœ… ë³¸ë¬¸ ë -->
   
  </main>

<!-- ğŸŒ í‘¸í„° -->
<footer id="habin-footer">
  <div class="footer-inner">

    <div class="footer-line1">
      <span class="ft-sub">Â© 2025 Ha-Bin Studio Â· All rights reserved.</span>
      <span class="ft-sub">ë¬´ë‹¨ ì „ì¬Â·ë³µì œÂ·ë°°í¬ ê¸ˆì§€.</span>
      <span class="ft-sub">Unauthorized reproduction or redistribution prohibited.</span>
    </div>

    <div class="footer-line2">
      <span class="ft-star">âœ¦</span>
      <span class="ft-star">On my own</span>
      <span class="ft-star">âœ¦</span>
      <span class="ft-star"><em>ë¹›ì€ ë‚´ ì´ë¦„ì„ ì•Œê³  ìˆë‹¤.</em></span>
      <span class="ft-star">â€œThe light knows my name.â€</span>
      <span class="ft-hidden">Writing resonates in the mind.</span>
    </div>

  </div>
</footer>

<!-- ğŸ”· JS ëª¨ë“ˆ -->
<script src="particles.js"></script> 
 <script>
  // ğŸŒ± 4ê³„ì ˆ íŒë‹¨ (index ì „ë‹´)
  function getSeason(m) {
    if (m >= 3 && m <= 5) return 'spring';
    if (m >= 6 && m <= 8) return 'summer';
    if (m >= 9 && m <= 11) return 'autumn';
    return 'winter';
  }

  const season = getSeason(new Date().getMonth() + 1);

  // ğŸ¨ ê³„ì ˆ í´ë˜ìŠ¤ (CSS ì „ìš©)
  document.body.classList.add(season);

  // ğŸƒ ê³„ì ˆ íš¨ê³¼ (particles)
  if (typeof startParticles === "function") {
    startParticles(season);
  }
</script>  
<script>
  const hour = new Date().getHours();
  document.body.classList.toggle('night', (hour >= 20 || hour < 6));
</script> 
 
<script src="weather.js"></script>
<script src="datetime_clock.js"></script> 
<script src="secret-gate.js"></script>  
<script src="secret-toggle.js"></script>
<script src="toolbar.js"></script> 
<script src="date-utils.js"></script>
<script src="main-grid.js"></script>   
   
<script>
/* ===== ë©”ì¸ í•œê¸€ê²Œì‹œíŒ JS ì „ì²´ ===== */
let posts = JSON.parse(localStorage.getItem("habin_posts") || "[]");

/* ê³µì§€ + ì¼ë°˜ê¸€ ì •ë ¬ */
const noticePosts = posts.filter(p => p.isNotice)
  .sort((a, b) => new Date(b.date) - new Date(a.date));
const normalPosts = posts.filter(p => !p.isNotice)
  .sort((a, b) => new Date(b.date) - new Date(a.date));
posts = [...noticePosts, ...normalPosts];

const itemsPerPage = 8;
let currentPage = new URLSearchParams(location.search).get("page") || 1;
currentPage = parseInt(currentPage, 8);
if (!currentPage || currentPage < 1) currentPage = 1;

function getCurrentPagePosts() {
  const start = (currentPage - 1) * itemsPerPage;
  return posts.slice(start, start + itemsPerPage);
}

/* í…Œì´ë¸” */
function renderList() {
  const tbody = document.getElementById("main-post-list");
  const pagePosts = getCurrentPagePosts();
  tbody.innerHTML = "";

  if (pagePosts.length === 0) {
    tbody.innerHTML =
      `<tr><td colspan="4" class="empty">ì‘ì„±ëœ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>`;
    return;
  }

  pagePosts.forEach((p, idx) => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${posts.length - ((currentPage - 1) * itemsPerPage + idx)}</td>
      <td>${p.writer || "í•˜ë¹ˆ"}</td>
      <td>
        <a href="post.html?mode=view&id=${p.id}" class="title-link">
          ${p.isNotice ? "ğŸ“Œ " : ""}${p.title}
        </a>
      </td>
      <td>${formatDate(p.date)}</td>
    `;
    if (p.isNotice) tr.classList.add("notice-row");
    tbody.appendChild(tr);
  });
}

/* í˜ì´ì§€ë„¤ì´ì…˜ */
function renderPagination() {
  const totalPages = Math.ceil(posts.length / itemsPerPage);
  const pag = document.getElementById("pagination");
  pag.innerHTML = "";
  if (totalPages <= 1) return;

  if (currentPage > 1)
    pag.innerHTML +=
      `<a href="?page=${currentPage - 1}" class="page-btn">ì´ì „</a>`;

  for (let i = 1; i <= totalPages; i++) {
    pag.innerHTML +=
      `<a href="?page=${i}" class="page-btn ${i === currentPage ? "active" : ""}">${i}</a>`;
  }

  if (currentPage < totalPages)
    pag.innerHTML +=
      `<a href="?page=${currentPage + 1}" class="page-btn">ë‹¤ìŒ</a>`;
}

/* ê·¸ë¦¬ë“œ */
function renderGrid() {
  if (typeof renderMainGrid === "function") {
    renderMainGrid(getCurrentPagePosts());
  }
}

renderList();
renderPagination();
renderGrid();
</script>

<!-- ğŸ”” ê³µì§€ê¸€ 5ê°œë§Œ ë©”ì¸ì— í‘œì‹œ (ì´˜ì´˜ ë²„ì „) -->
<script>
let noticePostsAll = JSON.parse(localStorage.getItem("habin_posts") || "[]");

let notices = noticePostsAll
  .filter(p => p.isNotice)
  .sort((a, b) => new Date(b.date) - new Date(a.date))
  .slice(0, 5);

const noticeSection = document.getElementById("notice-section");
const noticeList = document.getElementById("notice-list");

if (notices.length > 0) {
  noticeSection.style.display = "block";
}

noticeList.innerHTML = notices.map((n, i) => `
  <div style="
    padding: 4px 0;
    font-size: 14px;
    display:flex;
    align-items:center;
    cursor:pointer;
  " onclick="location.href='post.html?mode=view&id=${n.id}'">

    <span style="width:45px; text-align:center; color:#444;">
      ${notices.length - i}
    </span>

     <span style="flex:1; font-weight:600; color:#444;">
      ${n.title}
    </span>

    <span style="margin-left:auto; white-space:nowrap; color:#444;">
  ${formatDate(n.date)}
</span>

  </div>
`).join("");
</script>

 
<script>
fetch("sidebar.html")
  .then(res => res.text())
  .then(html => {
    const container = document.getElementById("sidebar-container");
    if (!container) return;

    /* 1ï¸âƒ£ ì‚¬ì´ë“œë°” DOM ì‚½ì… */
    container.innerHTML = html;

    /* 2ï¸âƒ£ ì‚¬ì´ë“œë°” ì „ìš© ê¸°ëŠ¥ ì´ˆê¸°í™” */
    initSidebarOnly();
  });

function initSidebarOnly() {

  /* â° ë‚ ì§œ / ì‹œê³„ */
  if (typeof startDateTimeClock === "function") {
    startDateTimeClock();
  }

  /* ğŸŒ¦ ë‚ ì”¨ */
  if (typeof startWeather === "function") {
    startWeather();
  }

   /* ğŸ“‚ ì ‘ì´ì‹ ë©”ë‰´ */
  const menuToggle = document.getElementById("menu-toggle");
  const menu = document.getElementById("sidebar-menu");

  if (menuToggle && menu) {
    menuToggle.onclick = () => {
      menu.style.display =
        menu.style.display === "block" ? "none" : "block";
    };
  }
 
  /* ğŸ” ë¹„ë°€ë¬¸ (ì—¬ê¸°ì„œ í˜¸ì¶œë§Œ!) */
  if (typeof initSecretToggle === "function") {
    initSecretToggle();
  }
  if (typeof initSecretGate === "function") {
    initSecretGate();
  }
}
}
 
</script>

</script>
 </body>
</html>













































































































































































































