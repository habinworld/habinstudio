<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>í•˜ë¹ˆ ìŠ¤íŠœë””ì˜¤ (Ha-Bin Studio) Â· ì‚¬ê³„ ì •ì› ì™„ì „ ê²°ê³„íŒ</title>
<meta name="description" content="ë¹›ì„ ê°ì¶˜ ìì˜ ë¯¸í•™ â€” í•˜ë¹ˆ ìŠ¤íŠœë””ì˜¤. ì‚¬ê³„ì ˆ ì •ì›, ì˜ˆìˆ ê³¼ ì‚¬ìœ ì˜ ì‰¼í„°.">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;800&display=swap" rel="stylesheet">

<style>
.hero{height:clamp(350px,40vh,520px);}
@font-face{
  font-family:'HaBinFont';
  src:url('NotoSansKR-Medium.ttf') format('truetype');
  font-weight:500;
}
.habin-img-btn {
  padding: 8px 14px;
  background:#5C8EDB;
  color:#fff;
  border:none;
  border-radius:8px;
  cursor:pointer;
  margin: 10px 0;
  font-size: 14px;
}
.habin-modal {
  display:none;
  position: fixed;
  z-index: 9000;
  left:0; top:0;
  width:100%; height:100%;
  background: rgba(0,0,0,0.4);
}
.habin-modal-content {
  background:#fff;
  width:90%; max-width:400px;
  margin:100px auto;
  padding:20px;
  border-radius:10px;
  text-align:center;
  box-shadow:0 2px 10px rgba(0,0,0,0.2);
}
.habin-img-list img {
  max-width:100%;
  margin:10px 0;
  border-radius:10px;
  cursor:pointer;
  transition:0.2s;
}
.habin-img-list img:hover {
  transform:scale(1.03);
}
.habin-close {
  margin-top:15px;
  padding:6px 12px;
  background:#3558A8;
  color:#fff;
  border:none;
  border-radius:6px;
  cursor:pointer;
}
  :root{
  --brand:#3558A8;
  --brand2:#5C8EDB;
  --seal-bg:#FFF5D1;
  --pink:#FF69B4;
  --border:#e2e8f0;
  --ink:#2b2b2b;
  --bgmain:#FFFDF8;
}
/* ===== ê¸€ë¡œë²Œ ê²°ê³„(ë³µì‚¬/ì„ íƒ) ===== */
*{ -webkit-tap-highlight-color:transparent; }
html,body{ height:100%; }
body{
  margin:0;
  display:flex;
  min-height:100vh;
  font-family:'HaBinFont','Noto Sans KR','í•¨ì´ˆë¡±ë°”íƒ•',serif;
  background:linear-gradient(180deg,#FAF9F3 0%,#FFF5EA 100%);
  color:var(--ink);
  font-size:13px;
  overflow-x:hidden;
  -webkit-user-select:none;
  -moz-user-select:none;
  user-select:none;
  -webkit-touch-callout:none;
}
/* ğŸŒ™ ë¬¸ë¼ì´íŠ¸ ê²°ê³„ (ë°¤ 8ì‹œ~ì•„ì¹¨ 6ì‹œ) */
body.night-mode {
  background: linear-gradient(180deg,#DDE3F7 0%,#F2F4FA 100%) !important;
}
body.night-mode main {
  background: transparent !important;
}
body.night-mode aside {
  background: rgba(255,244,201,0.92) !important;
}
input,textarea,button{
  -webkit-user-select:text;
  user-select:text;
  -webkit-touch-callout:default;
}
a,button{ cursor:pointer; }
img{ -webkit-user-drag:none; }
*::selection{ background:#FFEBA0; color:#3558A8 }
/* ===== ì‚¬ì´ë“œë°” ===== */
aside{
  width:260px;
  padding:18px;
  background:var(--seal-bg,#FFF4C9);
  border-right:2px solid var(--brand);
  position:fixed;
  top:0;bottom:0;left:0;
  height:100vh;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:14px;
  box-sizing:border-box;
}
aside * {
  margin-left:auto;
  margin-right:auto;
}
.logo-area{text-align:center}
.logo-area img{
  width:161px;
  height:auto;
  border-radius:8px;
  border:1.5px solid var(--brand);
  background:#fff;
  box-shadow:0 2px 6px rgba(53,88,168,.25);
}
/* í”„ë¡œí•„ ë¸”ë¡ */
.poetic-block {
  background:#FFF8D9;
  border:1.5px solid rgba(53,88,168,0.25);
  padding:18px 16px 20px 16px;
  border-radius:12px;
  text-align:center;
  font-family:'Malgun Gothic','ë§‘ì€ ê³ ë”•',sans-serif !important;
  color:#000;
  box-shadow:0 2px 6px rgba(0,0,0,0.05);
  line-height:1.6;
  letter-spacing:0.15px;
  position:relative;
  overflow:visible;
}
.poetic-block h2 {
  margin:0 0 10px;
  font-weight:600;
  font-size:13.5px;
  letter-spacing:0.15px;
  line-height:1.6;
  font-family:'Malgun Gothic','ë§‘ì€ ê³ ë”•',sans-serif !important;
  color:#000;
}
.poetic-block p {
  margin:0;
  font-weight:400;
  font-size:13.5px;
  white-space:pre-line;
  letter-spacing:0.15px;
  font-family:'Malgun Gothic','ë§‘ì€ ê³ ë”•',sans-serif !important;
  color:#000;
}
/* ğŸŒ¿ ì‹œ ë¸”ë¡ (ì‚¬ì´ë“œë°” ì•ˆ ì¤‘ì•™ ì •ë ¬ ) */
#profileBlock.poetic-block {
  width:calc(100% - 20px);
  margin:0 auto;
  border-radius:14px;
  padding:20px 14px 22px;
  box-sizing:border-box;
  background:#A9DCFF;
  border:1.5px solid rgba(53,88,168,0.25);
  box-shadow:0 2px 6px rgba(0,0,0,0.05);
}
/* ì¸ì¥ */
.badge {
  font-family:'HaBinFont','HCR Batang',serif;
  text-align:center;
  margin:0 auto;
  padding:10px 16px;
  width:fit-content;
  background:#FFEBA0;
  border:1.5px solid #3558A8;
  border-radius:10px;
  line-height:1.9;
  color:#5C8EDB;
}
.badge .brand-bold {
  font-weight:900 !important;
  -webkit-text-stroke: 0.3px #3558A8;
  letter-spacing: -0.2px;
  text-rendering: geometricPrecision;
  text-shadow: 0.6px 0.8px 1.5px rgba(53, 88, 168, 0.35);
}
.badge .fl {
  color:#FF69B4;
  font-weight:1000;
  text-shadow: 0 0 3px rgba(255,105,180,0.4);
}
/* ì ‘ì´ì‹ ë©”ë‰´ */
.nav summary{
  cursor:pointer;
  font-weight:800;
  color:var(--brand);
}
.nav a{
  display:block;
  padding:3px 0;
  color:#000;
  text-decoration:none;
  font-size:13px;
}
.nav a:hover{
  color:var(--brand2);
  text-decoration:underline;
}
/* ë‚ ì§œ/ì‹œê³„/ë‚ ì”¨ */
#datetime{
  font-size:12px;
  color:#FF7F00; /* ë‚ ì§œ+ì‹œê°„ ì£¼í™©ìƒ‰ */
  text-align:center;
  margin-top:4px;
}
#clockCanvas{
  display:block;
  margin:6px auto;
  background:#fff;
  border:1px solid var(--brand);
  border-radius:50%;
  width:90px;
  height:90px;
}
#weather { color: #000 !important; } /* ğŸŒ¤ï¸ ë‚ ì”¨ ê¸€ììƒ‰ ê³ ì • ê²°ê³„ */
/* ê´€ë¦¬ì íŒ¨ë„ */
.admin{
  border:1px dashed var(--brand);
  border-radius:8px;
  padding:10px;
  background:#fff;
}
.admin .note{
  font-size:11px;
  color:#64748b;
}
#adminState{margin-left:6px}
.admin input { width:80px; }
/* ê´€ë¦¬ì í† ê¸€ ë²„íŠ¼ */
.admin-toggle-btn{
  background:#FFF5D1;
  border:1.5px solid #3558A8;
  padding:8px;
  border-radius:10px;
  cursor:pointer;
  text-align:center;
  font-size:12px;
  font-family:'Noto Sans KR', sans-serif;
  margin-top:0px;
  color:#3558A8;
}
/* ìˆ¨ê²¨ì§„ ê´€ë¦¬ì íŒ¨ë„ */
.admin-panel{
  display:none;
  margin-top:10px;
  padding:10px;
  background:#FFEBA0;
  border:1.5px solid #3558A8;
  border-radius:10px;
  font-size:13px;
}
/* í”„ë¡œí•„ ì—ë””í„°(ê´€ë¦¬ì ì „ìš©) */
.profile-editor{
  display:none;
  border:1px dashed var(--brand);
  border-radius:8px;
  padding:8px;
  background:#fff;
}
.profile-editor textarea{
  width:100%;
  min-height:120px;
  border:1px solid #cbd5e1;
  border-radius:6px;
  padding:8px;
  font-family:'HaBinFont';
  font-size:12.5px;
}
/* ===== ë©”ì¸ ===== */
main{
  margin-left:260px;
  flex:1;
  padding:28px;
  background:var(--bgmain);
  box-shadow:inset 0 0 40px rgba(53,88,168,.05);
  min-height:100vh;
  position:relative;
  z-index:3;
}
/* íˆì–´ë¡œ ëŒ€í‘œ ì´ë¯¸ì§€ ì˜ì—­ */
.hero{
  height:clamp(240px,22vh,320px);
  border-radius:14px;
  overflow:hidden;
  background:#E6F2FF;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 4px 14px rgba(53,88,168,0.15);
}
.hero img{
  width:100%;
  height:100%;
  object-fit:top;
  display:block;
}
/* ìƒë‹¨ ë©”ë‰´ - 8ê°œ ë¬´ì§€ê°œ ì¹´ë“œí˜• íƒ‘ë©”ë‰´ */
.topmenu{
  margin:18px 0 22px;
  display:grid;
  grid-template-columns:repeat(8, minmax(110px,1fr));
  gap:10px;
  background:transparent;
  border:none;
  padding:0;
}
@media(max-width:1200px){
  .topmenu{grid-template-columns:repeat(4, minmax(120px,1fr));}
}
@media(max-width:768px){
  .topmenu{grid-template-columns:repeat(2, minmax(130px,1fr));}
}
.topmenu a{
  display:flex;
  align-items:center;
  justify-content:center;
  padding:10px 8px;
  border-radius:12px;
  border:1px solid rgba(53,88,168,0.25);
  background:#FFFDF8;
  color:#000;
  font-weight:700;
  font-size:13px;
  text-decoration:none;
  box-shadow:0 2px 4px rgba(0,0,0,0.04);
  transition:
    transform 0.15s ease,
    box-shadow 0.15s ease,
    background 0.2s ease;
}
.topmenu a:hover{
  transform:translateY(-2px);
  box-shadow:0 4px 10px rgba(92,142,219,0.18);
}
/* ğŸŒˆ ë¬´ì§€ê°œ íŒŒìŠ¤í…” 7ìƒ‰ + 1 ê³¨ë“œ (íƒ‘ë©”ë‰´ ìˆœì„œëŒ€ë¡œ) */
.topmenu a:nth-child(1){
  background:#F8C4C4;
  border-color:rgba(255,182,193,0.55);
}
.topmenu a:nth-child(2){
  background:#FFC871;
  border-color:rgba(255,224,130,0.55);
}
.topmenu a:nth-child(3){
  background:#FFE08A;
  border-color:rgba(144,238,144,0.55);
}
.topmenu a:nth-child(4){
  background:#A6FCA6;
  border-color:rgba(92,142,219,0.55);
}
.topmenu a:nth-child(5){
  background:#C9E1FF;
  border-color:rgba(186,160,255,0.55);
}
.topmenu a:nth-child(6){
  background:#A9BEEF;
  border-color:rgba(135,206,235,0.55);
}
.topmenu a:nth-child(7){
  background:#D7C4FF;
  border-color:rgba(210,180,80,0.75);
}
.topmenu a:nth-child(8){
  background:#F5D686;
  border-color:rgba(250,240,230,0.7);
}
/* ê´€ë¦¬ì ì „ìš© ê¸€ì“°ê¸° */
.post-editor{
  display:none;
  margin:10px 0 16px;
  padding:12px;
  border:1px solid #cbd5e1;
  border-radius:8px;
  background:#fff;
}
.post-editor input,.post-editor textarea{
  width:100%;
  padding:8px;
  border:1px solid #cbd5e1;
  border-radius:6px;
  margin-top:6px;
  font-family:'HaBinFont';
}
.post-editor .row{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.post-editor .row input{flex:1}
/* ğŸ”¥ ê¸€ì“°ê¸° textarea ì„¸ë¡œ ê³ ì • ì¶”ê°€ */
.post-editor textarea{
  min-height:300px !important;
  height:300px !important;
}
/* ì¹´ë“œí˜• ê²Œì‹œíŒ */
.card-grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:14px;
}
@media(max-width:1000px){.card-grid{grid-template-columns:repeat(3,1fr);}}
@media(max-width:800px){.card-grid{grid-template-columns:repeat(2,1fr);}}
@media(max-width:560px){.card-grid{grid-template-columns:1fr;}}
.card{
  border:1px solid var(--border);
  border-radius:6px;
  overflow:hidden;
  background:#fff;
  transition:box-shadow .25s ease,transform .1s ease;
  cursor:pointer;
  position:relative;
}
.card:hover{
  box-shadow:0 6px 14px rgba(92,142,219,.15);
  transform:translateY(-3px);
}
.card .thumb{
  width:100%;
  height:150px;
  object-fit:cover;
  display:block;
  border-bottom:1px solid #f1f5f9;
}
.card .thumb.placeholder{
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(135deg,#FFEBA0 0%,#5C8EDB 100%);
  color:#fff;
  font-size:28px;
  font-weight:900;
}
.card .body{
  padding:10px;
  text-align:center;
}
.card .title{
  font-weight:700;
  color:#3558A8;
  font-size:14px;
  margin:6px 0 4px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.card .meta{
  color:#5C8EDB;
  font-size:12px;
}
.card .del{
  position:absolute;
  top:6px;right:6px;
  border:1px solid #ef4444;
  color:#ef4444;
  background:#fff;
  border-radius:4px;
  cursor:pointer;
  padding:2px 6px;
  font-size:11px;
  display:none;
}
.card .edit {
  position:absolute;
  top:6px; left:6px;
  border:1px solid #3558A8;
  color:#3558A8;
  background:#fff;
  border-radius:4px;
  cursor:pointer;
  padding:2px 6px;
  font-size:11px;
  display:none;
}
/* í˜ì´ì§€ë„¤ì´ì…˜ */
.pagination{
  display:flex;
  justify-content:center;
  gap:4px;
  margin-top:12px;
}
.page-btn{
  padding:4px 8px;
  border:1px solid var(--brand);
  border-radius:6px;
  background:#fff;
  font-size:12px;
  cursor:pointer;
}
.page-btn.active{
  background:#FFFBEA;
  color:var(--brand);
  font-weight:700;
}
/* ======================
   ğŸ“„ ë¦¬ìŠ¤íŠ¸í˜• ê²Œì‹œíŒ
====================== */
.list-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
  font-size: 14px;
}
.list-table th, .list-table td {
  border-bottom: 1px solid #e5e7eb;
  padding: 10px 6px;
  text-align: left;
}
.list-table th {
  background: #F5F8FF;
  color: #3558A8;
  font-weight: 700;
}
.list-title {
  color: #000;
  cursor: pointer;
}
.list-title:hover {
  text-decoration: underline;
}
.list-date {
  width: 150px;
  color: #5C8EDB;
  text-align: right;
}
/* ë‹¤ë…€ê°„ í”ì  */
.visitor-wrap{
  background:#FFFBEA;
  border:1.5px solid var(--brand);
  border-radius:10px;
  padding:12px 14px;
  margin:22px 0 10px;
}
.visitor-wrap h3{
  margin:0 0 8px;
  color:var(--brand);
}
.visitor-inputs{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:flex-start;
}
.visitor-inputs textarea{
  flex:1;
  min-width:260px;
  resize:vertical;
  height:20px;
  border:1px solid #cbd5e1;
  border-radius:6px;
  padding:8px;
  font-family:'HaBinFont';
  font-size:12.5px;
  background:#fff;
}
/* í‘¸í„°(í–‡ì‚´ê²°ê³„ ë²„ì „) */
footer{
  margin:24px 0 10px;
  padding:12px 6px;
  text-align:center;
  font-size:11.5px;
  color:rgba(53,88,168,0.9);
  background:rgba(255,250,235,0.8);
  line-height:1.9;
  border-top:1px solid var(--brand);
}
footer b{font-weight:600}
footer .no-bold{font-weight:400}

/* ê³„ì ˆ íš¨ê³¼ ìº”ë²„ìŠ¤ */
#seasonCanvas{
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  pointer-events:none;
  z-index:999;
}
/* =============================================
   ğŸŒ• Ha-Bin Lightbox v2 (CSS)
============================================= */
#lightboxOverlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.35);
  backdrop-filter:blur(6px);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999999;
  transition:opacity .25s ease;
}
#lightboxOverlay.active{
  display:flex;
  opacity:1;
}
#lightboxImage{
  max-width:88%;
  max-height:88%;
  border-radius:10px;
  box-shadow:0 0 22px rgba(230,230,255,0.75);
  animation:zoomIn .25s ease;
}
@keyframes zoomIn{
  from{ transform:scale(0.85); opacity:0; }
  to  { transform:scale(1.0); opacity:1; }
}
#lightboxClose{
  position:fixed;
  top:20px;
  right:28px;
  color:#FFF;
  font-size:32px;
  font-weight:bold;
  cursor:pointer;
  text-shadow:0 0 8px rgba(230,230,255,0.8);
  z-index:1000000;
}
/* ===============================
   âœ¨ STEP 3 â€” í•˜ë¹ˆ ì—ë””í„° ì „ì²´ ìŠ¤íƒ€ì¼
   ì¢…ì´ ì§ˆê° + íˆ´ë°” + ì œëª©ì¤„
================================ */
/* ì œëª© ì…ë ¥ì¹¸ */
.hb-title-input{
  width:100%;
  padding:10px 14px;
  border:1.5px solid #3558A8;
  border-radius:8px;
  font-size:18px;
  font-family:'Noto Sans KR', sans-serif;
  font-weight:600;
  color:#000;
  background:#fff;
  margin-bottom:10px;
}
/* ì œëª© + ë²„íŠ¼ + ì‘ì„±ì ì˜ì—­ */
.hb-editor-header{
  margin-bottom:10px;
}
/* ë²„íŠ¼ ë¬¶ìŒ */
.hb-title-tools{
  display:flex;
  gap:8px;
  align-items:center;
  flex-wrap:wrap;
  margin-top:6px;
}
/* ë“±ë¡/ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ */
.hb-btn.blue{
  background:#3558A8;
  color:#fff;
  border:none;
  padding:4px 10px;
  border-radius:6px;
  font-size:13px;
  cursor:pointer;
}
.hb-btn.blue:hover{
  background:#4b6ac9;
}
/* ì‘ì„±ì */
.hb-author{
  color:#3558A8;
  font-weight:600;
  margin-left:6px;
  font-size:13px;
}
/* -------------------------------
   ğŸŸ¦ íˆ´ë°”
-------------------------------- */
.hb-toolbar{
  display:flex;
  gap:10px;
  align-items:center;
  padding:8px 10px;
  margin:10px 0 12px;
  background:#F7F7F7;
  border:1px solid #d1d5db;
  border-radius:8px;
}
  /* íˆ´ë°” ë²„íŠ¼ */
.hb-tool-btn{
  border:1px solid #3558A8;
  background:#fff;
  color:#3558A8;
  border-radius:6px;
  padding:4px 10px;
  font-size:13px;
  cursor:pointer;
}
.hb-tool-btn:hover{
  background:#3558A8;
  color:#fff;
}
/* íˆ´ë°” select ë°•ìŠ¤ */
.hb-toolbar select{
  padding:4px;
  border-radius:6px;
  border:1px solid #bbb;
  font-size:13px;
}
/* -------------------------------
   ğŸ“„ ë³¸ë¬¸ contenteditable ìŠ¤íƒ€ì¼
-------------------------------- */
.hb-editor-content{
  width:100%;
  min-height:350px;
  padding:20px;
  background:#FFFDF5;
  background-size:cover;
  border:1px solid #e5e7eb;
  border-radius:10px;
  font-family:'Noto Sans KR', sans-serif;
  font-size:15px;
  line-height:1.8;
  color:#333;
  white-space:pre-wrap;
  overflow-wrap:break-word;
} 
/* ğŸŸ¡ ì»¤ì„œ ì§„ì… í™œì„±í™”(ê²°ê³„ ìš°íšŒ) */
#content {
  -webkit-user-select:text !important;
  -moz-user-select:text !important;
  user-select:text !important;
}
</style>
</head>
<body
  oncontextmenu="return false"
  ondragstart="return false"
  onselectstart="return false">
<!-- =========================
     ì‚¬ì´ë“œë°”
========================= -->
<aside>
  <!-- ëŒ€í‘œ ì´ë¯¸ì§€ (ì‚¬ì´ë“œë°” ë¡œê³ ) -->
  <div class="logo-area">
    <img id="sidebarLogo" src="images/habin_logo.png" alt="Ha-Bin Studio ëŒ€í‘œì´ë¯¸ì§€">
  </div>
  <!-- í”„ë¡œí•„ -->
  <div id="profileBlock" class="poetic-block">
    <h2>ë¿Œë¦¬ê¹Šì€ ê³ ëª©, í•˜ë¹ˆ</h2>
    <p>ë¿Œë¦¬ëŠ” ì‹¬ì—°ì— ë‹¿ê³ ,<br>ê°€ì§€ëŠ” í•˜ëŠ˜ì— ë»—ì–´,<br>ë¬¼ì²˜ëŸ¼ íë¥´ê³  ë³„ì²˜ëŸ¼<br>ë¹›ë‚˜ëŠ” ê¸¸ì„ ê±·ëŠ”ë‹¤.</p>
  </div>
  <!-- ëŒ€ë¬¸ ì¸ì¥(êµµê²Œ) -->
  <div class="badge">
    <span class="fl">âœ¿</span>
    <span class="brand-bold" style="color:#3558A8; font-size:1.2em;">í•˜ë¹ˆ ìŠ¤íŠœë””ì˜¤</span>
    <span class="fl">âœ¿</span><br>
    <span class="brand-bold" style="color:#3558A8; font-size:1.1em;">ì œ2025-000004í˜¸</span><br>
    <span class="brand-bold" style="color:#3558A8; font-size:1.1em;">Since 2025.08.21.</span>
  </div>
  <!-- ì ‘ì´ì‹ ë©”ë‰´ -->
  <nav class="nav">
    <details open>
      <summary>ğŸ“š ê²Œì‹œíŒ</summary>
      <div style="padding-left:8px;display:grid;grid-template-columns:1fr 1fr;gap:6px 10px;">
        <a href="#board">í•œê¸€ ê²Œì‹œíŒ</a><a href="#english">ì˜ì–´ ê²Œì‹œíŒ</a>
        <a href="#question">ì§ˆë¬¸ì˜ ê³µê°„</a><a href="#forge">ëŒ€ì¥ê°„</a>
        <a href="#gallery">ê°¤ëŸ¬ë¦¬</a><a href="#video">ë™ì˜ìƒ</a>
        <a href="#notice">ê³µì§€ì‚¬í•­</a><a href="#etc">ê¸°íƒ€</a>
      </div>
    </details>
  </nav>
  <!-- ë‚ ì§œÂ·ì‹œê³„Â·ë‚ ì”¨ -->
  <div id="datetime">
    <div id="todayDate">ğŸ“… ë‚ ì§œ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
    <canvas id="clockCanvas" width="90" height="90" aria-label="ì•„ë‚ ë¡œê·¸ ì‹œê³„"></canvas>
    <div id="weather">ğŸŒ¤ ë‚ ì”¨ ë¡œë”©ì¤‘...</div>
  </div>
   <!-- í”„ë¡œí•„ ì—ë””í„°(ê´€ë¦¬ì ì „ìš©) -->
  <div id="profileEditor" class="profile-editor">
    <b style="color:var(--brand)">ğŸ‘¤ í”„ë¡œí•„ ìˆ˜ì •</b>
    <textarea id="profileTextarea" placeholder="ì—¬ê¸°ì— HTML/í…ìŠ¤íŠ¸ë¡œ í”„ë¡œí•„ì„ ì‘ì„±í•˜ì„¸ìš”."></textarea>
    <div style="display:flex;gap:8px;margin-top:6px;">
      <button type="button" onclick="saveProfile()" style="padding:6px 10px;border:1px solid var(--brand);border-radius:6px;background:#fff;cursor:pointer">ì €ì¥</button>
      <span class="admin note">* HTML ì§€ì› (ì´ë¯¸ì§€/ë§í¬ ê°€ëŠ¥)</span>
    </div>
  </div>
<!-- ğŸ”§ ìˆ¨ê²¨ì§„ ê´€ë¦¬ì íŒ¨ë„ (ë¹„ë°€) -->
<div id="admin-panel" class="admin-panel"
     style="display:none; margin-top:10px; padding:10px;
            background:#FFEBA0; border:1.5px solid #3558A8;
            border-radius:10px; font-size:13px;">
    <b style="color:var(--brand)">ğŸ”§ ê´€ë¦¬ì ë©”ë‰´</b>
    <p style="margin:6px 0 4px;font-size:12px;">ê´€ë¦¬ì í‚¤ ì…ë ¥</p>
    <input type="password" id="admin-key"
           placeholder="ë¹„ë°€ë²ˆí˜¸ ì…ë ¥"
           style="width:100%; padding:8px; border:1px solid #cbd5e1;
                  border-radius:6px; margin-bottom:8px;">
    <button id="admin-onoff"
            style="width:100%; padding:8px 0; border:1px solid #3558A8;
                   border-radius:6px; background:#fff; cursor:pointer;">
        í™•ì¸
    </button>
  </div>
  <!-- í•˜ë¹ˆ ë¬¸ì¥ : ê¸€ì€ ë§ˆìŒì— ì§„ë™í•œë‹¤ -->
<div id="secretAdminBtn"
     style="font-family:'í•¨ì´ˆë¡±ë°”íƒ•','HCR Batang',serif;
            font-size:14px;
            color:#C0C0C0;
            font-style:italic;
            text-align:center;
            margin-top:0px;
            width:100%;
            cursor:pointer;">
    ê¸€ì€ ë§ˆìŒì— ì§„ë™í•œë‹¤.
</div>
</aside>
<!-- =========================
     ë©”ì¸
========================= -->
<main>
  <!-- íˆì–´ë¡œ (ëŒ€í‘œ ì´ë¯¸ì§€) -->
  <section id="hero" class="hero">
    <img src="images/hero/hero-main.png" alt="Ha-Bin Studio ëŒ€í‘œ ì´ë¯¸ì§€" id="heroMainImage">
  </section>
  <!-- ìƒë‹¨ 8ê°œ ì¹´ë“œí˜• íƒ‘ë©”ë‰´ -->
  <nav class="topmenu">
    <a href="#board">ğŸ“š í•œê¸€ ê²Œì‹œíŒ</a>
    <a href="#english">ğŸŒ ì˜ì–´ ê²Œì‹œíŒ</a>
    <a href="#question">â“ ì§ˆë¬¸ì˜ ê³µê°„</a>
    <a href="#forge">âš’ï¸ ëŒ€ì¥ê°„</a>
    <a href="#gallery">ğŸ–¼ï¸ ê°¤ëŸ¬ë¦¬</a>
    <a href="#video">ğŸ¬ ë™ì˜ìƒ</a>
    <a href="#notice">ğŸ“¢ ê³µì§€ì‚¬í•­</a>
    <a href="#etc">âœ³ï¸ ê¸°íƒ€</a>
  </nav>
  <!-- ê´€ë¦¬ì ì „ìš© ê¸€ì“°ê¸° + ìŠ¤íŒ¸ë°©ì§€(í—ˆë‹ˆíŒŸ) -->
  <section id="editor" class="post-editor" aria-label="ê¸€ì“°ê¸°">
     <input id="hp" type="text" style="display:none">
    <!-- â­â­â­ Aì•ˆ ì œëª© + ë²„íŠ¼ + ì‘ì„±ì UI â­â­â­ -->
  <div class="hb-editor-header">
    <input id="title" class="hb-title-input" placeholder="ğŸ“Œ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">

    <div class="hb-title-tools">
      <button onclick="createPost()" class="hb-btn blue">ë“±ë¡</button>
      <button onclick="updatePost()" class="hb-btn blue">ìˆ˜ì •</button>
      <button onclick="deletePostFromEditor()" class="hb-btn blue">ì‚­ì œ</button>

      <span class="hb-author">&lt;ì‘ì„±ì : í•˜ë¹ˆ&gt;</span>
    </div>
  </div>
  <!-- ğŸŸ¦ í•˜ë¹ˆ ë³¸ë¬¸ ì—ë””í„° íˆ´ë°” -->
<div class="hb-toolbar">
  <!-- í°íŠ¸ ë³€ê²½ -->
  <select id="hb-font" onchange="hbExec('fontName', this.value)">
    <option value="'Noto Sans KR'">ê³ ë”•</option>
    <option value="'HCR Batang'">í•¨ì´ˆë¡±ë°”íƒ•</option>
    <option value="'Nanum Myeongjo'">ëª…ì¡°</option>
    <option value="'Gungsuh'">ê¶ì„œ</option>
  </select>
  <!-- ê¸€ì í¬ê¸° -->
  <select id="hb-size" onchange="hbExec('fontSize', this.value)">
    <option value="3">15px (ê¸°ë³¸)</option>
    <option value="4">17px</option>
    <option value="5">19px</option>
    <option value="6">21px</option>
  </select>
  <!-- êµµê²Œ -->
  <button type="button" onclick="hbExec('bold')" class="hb-tool-btn"><b>B</b></button>
  <!-- ê¸°ìš¸ì„ -->
  <button type="button" onclick="hbExec('italic')" class="hb-tool-btn"><i>I</i></button>
  <!-- ê¸€ììƒ‰ -->
  <input type="color" onchange="hbExec('foreColor', this.value)">
  <!-- ì´ë¯¸ì§€ ì‚½ì… -->
  <button type="button" class="hb-tool-btn" onclick="document.getElementById('hb-img').click()">ğŸ–¼ ì´ë¯¸ì§€</button>
  <input type="file" id="hb-img" accept="image/*" style="display:none" onchange="hbInsertImg()">
</div>
    <div id="content"
     contenteditable="true"
     class="hb-editor-content"
     placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></div>
      </section>
<div id="viewModeBox" style="margin:12px 0; display:flex; gap:8px;">
  <button id="btnCardView"
          style="padding:6px 12px; border:1px solid #3558A8; border-radius:6px; background:#fff; cursor:pointer;">
    ğŸ“¦ ì¹´ë“œí˜• ë³´ê¸°
  </button>
  <button id="btnListView"
          style="padding:6px 12px; border:1px solid #3558A8; border-radius:6px; background:#fff; cursor:pointer;">
    ğŸ“„ ë¦¬ìŠ¤íŠ¸í˜• ë³´ê¸°
  </button>
</div>
 <!-- ê²Œì‹œíŒ -->
  <section id="board">
    <h2>ğŸ“š í•œê¸€ ê²Œì‹œíŒ</h2>
    <div class="card-grid" id="cards"></div>
    <div class="pagination" id="pages"></div>
  </section>
  <!-- ë‹¤ë…€ê°„ í”ì  -->
  <section id="visitor" class="visitor-wrap" aria-label="ë‹¤ë…€ê°„ í”ì ">
    <h3>ğŸ’¬ ë‹¤ë…€ê°„ í”ì </h3>
    <div class="visitor-inputs">
      <textarea id="vtext" placeholder="í•œ ì¤„ ì½”ë©˜íŠ¸ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”"></textarea>
      <button type="button" onclick="addVisitorComment()" style="padding:8px 12px;border:1px solid var(--brand);border-radius:8px;background:#fff;cursor:pointer;">ë“±ë¡</button>
    </div>
    <div class="visitor-list" id="vlist"></div>
  </section>
  <!-- (ì¶”í›„ ì˜ì–´/ì§ˆë¬¸/ëŒ€ì¥ê°„/ê°¤ëŸ¬ë¦¬/ë™ì˜ìƒ/ê³µì§€/ê¸°íƒ€ ì„¹ì…˜ ì¶”ê°€ ê°€ëŠ¥) -->
  <!-- ğŸŒ í•˜ë¹ˆ ìŠ¤íŠœë””ì˜¤ Â· í–‡ì‚´ê²°ê³„ í‘¸í„° v2 -->
  <footer id="ha-bin-footer" style="
    position:fixed;
    left:260px;
    bottom:0;
    width:calc(100% - 260px);
    background:#FFF5D1;
    color:#0F2167;
    font-size:14px;
    line-height:1.8;
    padding:10px 0 11px 0;
    z-index:9999;
    border:none;
    border-radius:0;
    box-shadow:none;
  ">
    <span style="color:#FF69B4;font-size:14px;">âœ¿</span>
    <span>ì¶œì²˜ : <strong>í•˜ë¹ˆ ìŠ¤íŠœë””ì˜¤</strong></span>
    <span style="color:#FF69B4;font-size:14px;">âœ¿</span>
    <span>Â© 2025 Ha-Bin Studio. All rights reserved.</span>
    <span>ë¬´ë‹¨ ì „ì¬Â·ë³µì œÂ·ë°°í¬ ê¸ˆì§€.</span>
    <span>Unauthorized reproduction or redistribution prohibited.</span><br>
    <span style="color:#DAA520;">âœ¦</span>
    <span style="color:#DAA520;">í•˜ë¹ˆêº¼</span>
    <span style="color:#DAA520;">âœ¦â€” </span> 
    <em style="color:#DAA520;">ë¹›ì€ ë‚´ ì´ë¦„ì„ ì•Œê³  ìˆë‹¤.</em>
    <span style="color:#DAA520;">â€œThe light knows my name.â€</span>
    <span style="display:inline;
                 font-family:'Times New Roman','HCR Batang',serif;
                 font-size:18px;
                 color:#C0C0C0;
                 font-style:italic;
                 margin-top:2px;
                 opacity:0.9;">
      Writing resonates in the mind.
    </span>
    <!-- ì œë¡œí­ ì´ì¤‘ ì›Œí„°ë§ˆí¬ (í•˜ë¹ˆ ê²°ê³„ ë³´í˜¸ë¬¸) -->
    <span style="font-size:0;opacity:0;">
      í•˜&#8203;ë¹ˆ&#8203;êº¼&#8203;&#8203;!&#8203;!&#8203;!&#8203;í•¨&#8203;ë¶€&#8203;ë¡œ&#8203;&#8203;í¼&#8203;ê°€&#8203;ì§€&#8203;ë§ˆ&#8203;&#8203;!&#8203;!&#8203;!&#8203;ë¹›&#8203;ì€&#8203;ë‚´&#8203;ì´&#8203;ë¦„&#8203;ì„&#8203;ì•Œ&#8203;ê³ &#8203;ìˆ&#8203;ë‹¤&#8203;.
    </span>
    <span style="font-size:0;opacity:0;">
      í•˜&#8205;ë¹ˆ&#8205;êº¼&#8205;&#8205;!&#8205;!&#8205;!&#8205;í•¨&#8205;ë¶€&#8205;ë¡œ&#8205;&#8205;í¼&#8205;ê°€&#8205;ì§€&#8205;ë§ˆ&#8205;&#8205;!&#8205;!&#8205;!&#8205;ë¹›&#8205;ì€&#8205;ë‚´&#8205;ì´&#8205;ë¦„&#8205;ì„&#8205;ì•Œ&#8205;ê³ &#8205;ìˆ&#8205;ë‹¤&#8205;.
    </span>
  </footer>
</main>
<!-- ì‚¬ê³„ì ˆ ìº”ë²„ìŠ¤ -->
<canvas id="seasonCanvas"></canvas>
<!-- ğŸŒ• Lightbox HTML -->
<div id="lightboxOverlay">
  <div id="lightboxClose">Ã—</div>
  <img id="lightboxImage" src="" alt="expanded image">
</div>
<script>
/* ================================
   ğŸ“… ë‚ ì§œ + ì‹œê°„ (ì˜¤ì „/ì˜¤í›„) í‘œì‹œ
================================ */
function updateDate(){
  const now = new Date();
  const y = now.getFullYear();
  const m = now.getMonth() + 1;
  const d = now.getDate();
  const w = ['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '][now.getDay()];
  let hour = now.getHours();
  const minute = now.getMinutes().toString().padStart(2,'0');
  const ampm = hour < 12 ? 'ì˜¤ì „' : 'ì˜¤í›„';
  let hour12 = hour % 12;
  if(hour12 === 0) hour12 = 12;
  const text = `ğŸ“… ${y}. ${m}. ${d}. (${w}) Â· ${ampm} ${hour12}:${minute}`;
  const el = document.getElementById('todayDate');
  if(el){
    el.innerHTML = `<span style="color:#FF7F00;">${text}</span>`;
  }
}
updateDate();
// ì´ˆ ë‹¨ìœ„ë¡œ ëŒë ¤ì•¼ ì‹œÂ·ë¶„ ë³€í™”ê°€ ë°”ë¡œ ë³´ì„
setInterval(updateDate, 1000);
/* ======ì•„ë‚ ë¡œê·¸ ì‹œê³„======= */
(function drawClock(){
  const c=document.getElementById('clockCanvas'); 
  const ctx=c.getContext('2d'); 
  const r=c.height/2; 
  ctx.translate(r,r);
  function hand(pos,len,w,color='#3558A8'){
    ctx.beginPath();
    ctx.lineWidth=w;
    ctx.lineCap='round';
    ctx.rotate(pos);
    ctx.moveTo(0,0);
    ctx.lineTo(0,-len);
    ctx.strokeStyle=color;
    ctx.stroke();
    ctx.rotate(-pos);
  }
  (function loop(){
    ctx.clearRect(-r,-r,c.width,c.height);
    ctx.beginPath();
    ctx.arc(0,0,r*0.92,0,Math.PI*2);
    ctx.fillStyle='#FFF'; 
    ctx.fill();
    ctx.lineWidth=2; 
    ctx.strokeStyle='#3558A8'; 
    ctx.stroke();
    const now=new Date();
    let h=now.getHours()%12,
        m=now.getMinutes(),
        s=now.getSeconds();
    hand((Math.PI/6)*h+(Math.PI/360)*m+(Math.PI/21600)*s,r*0.5,4);
    hand((Math.PI/30)*m+(Math.PI/1800)*s,r*0.7,2.5);
    hand((Math.PI/30)*s,r*0.8,1.2,'#FF69B4');
    requestAnimationFrame(loop);
  })();
})();
/* ================================
   ğŸŒ¤ í–‡ì‚´ê²°ê³„ ë‚ ì”¨ (ìì—°ì–´ ë³´ì • + ì„œìš¸ ë°±ì—…)
================================ */
(function(){
  const key = "0cf8445721f18dd3251564b7fb9693f4";
  const box = document.getElementById('weather');
  if(!box) return;
  function prettifyWeather(desc){
    const map = {
      'íŠ¼êµ¬ë¦„':'êµ¬ë¦„ ë§ìŒ','ì•½ê°„íë¦¼':'êµ¬ë¦„ ì¡°ê¸ˆ','êµ¬ë¦„ ì•½ê°„':'êµ¬ë¦„ ë§ìŒ',
      'ì•½ê°„ íë¦¼':'êµ¬ë¦„ ë§ìŒ','ë§‘ìŒ':'ë§‘ìŒ','íë¦¼':'íë¦¼','ë¹„':'ë¹„',
      'ì•½í•œ ë¹„':'ì´ìŠ¬ë¹„','ê°•í•œ ë¹„':'ì†Œë‚˜ê¸°','ì¥ëŒ€ë¹„':'ì†Œë‚˜ê¸°','ëˆˆ':'ëˆˆ',
      'ëˆˆ ë§ìŒ':'ëˆˆ ì¡°ê¸ˆ','ì•½í•œ ëˆˆ':'ëˆˆ ì¡°ê¸ˆ','ì§„ëˆˆê¹¨ë¹„':'ëˆˆë¹„','ì†Œë‚™ëˆˆ':'ëˆˆ',
      'ë°•ë¬´':'ì•ˆê°œ','ì—°ë¬´':'ì˜…ì€ ì•ˆê°œ'
    };
    return map[desc] || desc || 'ì •ë³´ ì—†ìŒ';
  }
  function timeIcon(){
    const h = (new Date().getUTCHours()+9)%24;
    if(h>=6 && h<18) return 'â˜€ï¸';
    else if(h>=18 && h<22) return 'ğŸŒ‡';
    return 'ğŸŒ™';
  }
  function render(region, desc, temp, icon){
    const i = icon
      ? `<img src="https://openweathermap.org/img/wn/${icon}.png" width="22" height="22" style="vertical-align:middle;margin-right:3px;">`
      : timeIcon();
    box.innerHTML = `${i} <b style="color:#3558A8">${region}</b> Â· ${prettifyWeather(desc)}, ${temp?.toFixed?.(1) ?? 'â€”'}â„ƒ`;
    const w = prettifyWeather(desc);
    if(/ë§‘|êµ¬ë¦„ ì¡°ê¸ˆ/.test(w)) box.style.background='#FFF8D0';
    else if(/êµ¬ë¦„|íë¦¼/.test(w)) box.style.background='#FFF2B0';
    else if(/ë¹„|ì†Œë‚˜ê¸°|ëˆˆ/.test(w)) box.style.background='#FFEBA0';
    else box.style.background='#FFF5D1';
    box.style.padding='4px 8px';
    box.style.borderRadius='8px';
    box.style.display='inline-block';
    box.style.color='#5C8EDB';
    box.style.fontWeight='500';
  }
  async function load(lat,lon){
    try{
      const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${key}&units=metric&lang=kr`);
      const d = await res.json();
      if(!d.weather || !d.main) throw new Error("Invalid data");
      const icon = d.weather[0].icon;
      let region = d.name || '';
      try{
        const g = await fetch(`https://api.openweathermap.org/geo/1.0/reverse?lat=${lat}&lon=${lon}&limit=1&appid=${key}&lang=kr`).then(r=>r.json());
        region = g?.[0]?.local_names?.ko || g?.[0]?.name || region;
      }catch{}
      render(region || 'ì„œìš¸', d.weather[0].description, d.main.temp, icon);
    }catch{
      box.textContent = "ğŸŒ¤ ë‚ ì”¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í•¨";
      box.style.background='#FFF5D1';
    }
  }
  function success(pos){
    const {latitude,longitude}=pos.coords;
    window.currentCoords = {lat:latitude,lon:longitude};
    load(latitude,longitude);
  }
  function fail(){
    load(37.5665,126.9780);
  }
  if(navigator.geolocation){
    navigator.geolocation.getCurrentPosition(success,fail,{timeout:8000});
  } else fail();
  setInterval(()=>{
    if(window.currentCoords){
      load(window.currentCoords.lat,window.currentCoords.lon);
    } else fail();
  },1000*60*30);
})();
/* ================================
   ğŸŒ™ ë¬¸ë¼ì´íŠ¸ ê²°ê³„ (ìë™)
================================ */
(function(){
  function applyMode(){
    const h=(new Date().getUTCHours()+9)%24;
    if(h>=20 || h<6){
      document.body.classList.add('night-mode');
    } else {
      document.body.classList.remove('night-mode');
    }
  }
  applyMode();
  setInterval(applyMode,1000*60*10);
})();
/* ================================
   ğŸ“š ê²Œì‹œíŒ CRUD + ì´ë¯¸ì§€ ì²¨ë¶€
   (habin-posts)
================================ */
let posts = JSON.parse(localStorage.getItem("habin-posts") || "[]");
let page = 1;
const per = 12;
function savePosts(){
  localStorage.setItem("habin-posts",JSON.stringify(posts));
}
function createPost(){
  if(!isAdmin()){
    alert("ê´€ë¦¬ìë§Œ ê¸€ ì‘ì„± ê°€ëŠ¥í•©ë‹ˆë‹¤.");
    return;
  }
  // ğŸ”¥ ìˆ˜ì •ëª¨ë“œì¸ì§€ ë¨¼ì € ì²´í¬!
  if(window.hbEditingId){
    const id = window.hbEditingId;
    const idx = posts.findIndex(p => p.id === id);
    if(idx !== -1){
      posts[idx].title   = document.getElementById("title").value;
      posts[idx].author = (document.getElementById("author")?.value || "í•˜ë¹ˆ");
      posts[idx].content = document.getElementById("content").innerHTML;
      const f = document.getElementById("imgUpload").files[0];
      if(f){
        posts[idx].img = URL.createObjectURL(f);
      }
    }
    savePosts();
    renderPosts();
    // ìˆ˜ì •ëª¨ë“œ ì¢…ë£Œ
    window.hbEditingId = null;
    // ì…ë ¥ì°½ ì´ˆê¸°í™”
    document.getElementById("title").value="";
    document.getElementById("content").value="";
    document.getElementById("imgUpload").value="";
    alert("ìˆ˜ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!");
    return;  // â­ ì—¬ê¸°ì„œ ë!
  }
  // ========================
  // ğŸ”½ ì—¬ê¸°ë¶€í„°ëŠ” 'ìƒˆ ê¸€ ë§Œë“¤ê¸°' ë¡œì§
  // ========================
  if(!document.getElementById("title").value.trim()){
    alert("ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”.");
    return;
  }
  if(document.getElementById("hp").value!==""){
    alert("ìŠ¤íŒ¸ ì˜ì‹¬");
    return;
  }
  const t = document.getElementById("title").value;
  const a = (document.getElementById("author")?.value || "í•˜ë¹ˆ");
  const c = document.getElementById("content").innerHTML;
  const f = document.getElementById("imgUpload").files[0];
  let imgURL = "";
  if(f){
    imgURL = URL.createObjectURL(f);
  }
  posts.unshift({
    id:Date.now(),
    title:t,
    author:a,
    content:c,
    img:imgURL,
    date:new Date().toLocaleString()
  });
  savePosts();
  renderPosts();
  // ìƒˆê¸€ ì´ˆê¸°í™”
  document.getElementById("title").value="";
  document.getElementById("content").innerHTML="";
  document.getElementById("imgUpload").value="";
}
function deletePost(id){
  if(localStorage.getItem("habin-admin")!=="on"){
    alert("ê´€ë¦¬ì ì „ìš©");
    return;
  }
  if(!confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) return;
  posts = posts.filter(p=>p.id!==id);
  savePosts();
  renderPosts();
}
function editPost(id){
  // ê´€ë¦¬ìë§Œ ìˆ˜ì • ê°€ëŠ¥
  if(localStorage.getItem("habin-admin") !== "on"){
    alert("ê´€ë¦¬ì ì „ìš© ê¸°ëŠ¥ì…ë‹ˆë‹¤.");
    return;
  }
  // í•´ë‹¹ ê¸€ ì°¾ê¸°
  const p = posts.find(x => x.id === id);
  if(!p){
    alert("í•´ë‹¹ ê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    return;
  }
  // ê¸€ì“°ê¸° íŒ¨ë„ ë³´ì´ê¸°
  const editor = document.getElementById("editor");
  if(editor){
    editor.style.display = "block";
  }
  // ê¸°ì¡´ ë‚´ìš© í¼ì— ì±„ì›Œë„£ê¸°
  document.getElementById("title").value   = p.title || "";
  document.getElementById("author").value  = p.author || "";
  document.getElementById("content").innerHTM = p.content || "";
  // ì´ë¯¸ì§€ ì—…ë¡œë“œ í•„ë“œëŠ” ì¼ë‹¨ ë¹„ì›Œë‘ 
  document.getElementById("imgUpload").value = "";
  // ì§€ê¸ˆ ì–´ë–¤ ê¸€ì„ ìˆ˜ì • ì¤‘ì¸ì§€ í‘œì‹œ (ì „ì—­ í”Œë˜ê·¸)
  window.hbEditingId = id;
  alert("ì´ ê¸€ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nìˆ˜ì • í›„ 'ë“±ë¡' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì €ì¥ë©ë‹ˆë‹¤.");
}
function renderPosts(){
  const cards = document.getElementById("cards");
  const pages = document.getElementById("pages");
  if(!cards || !pages) return;
  cards.innerHTML="";
  const start = (page-1)*per;
  const end = start+per;
  const list = posts.slice(start,end);
  list.forEach(p=>{
    const div = document.createElement("div");
    div.className="card";
    div.onclick=()=>openPost(p.id);
    let thumb = "";
    if(p.img){
      thumb = `<img class="thumb" src="${p.img}" alt="" oncontextmenu="return false">`;
    }else{
      thumb = `<div class="thumb placeholder">${p.title[0] || "H"}</div>`;
    }
    div.innerHTML = `
      ${thumb}
      <div class="body">
        <div class="title">${p.title}</div>
        <div class="meta">${p.author} Â· ${p.date}</div>
        <div class="edit" onclick="event.stopPropagation();editPost(${p.id})">ìˆ˜ì •</div>
        <div class="del" onclick="event.stopPropagation();deletePost(${p.id})">ì‚­ì œ</div>
      </div>
    `;
    if(localStorage.getItem("habin-admin")==="on"){
      div.querySelector(".del").style.display="block";
    }
    cards.appendChild(div);
  });
  const total = Math.ceil(posts.length/per) || 1;
  pages.innerHTML="";
  for(let i=1;i<=total;i++){
    const b = document.createElement("button");
    b.className="page-btn";
    if(i===page) b.classList.add("active");
    b.textContent=i;
    b.onclick=()=>{page=i;renderPosts();};
    pages.appendChild(b);
  }
}
renderPosts();
function openPost(id){
  const p = posts.find(x=>x.id===id);
  if(!p) return;
  let modal = document.getElementById("postModal");
  if(!modal){
    modal = document.createElement("div");
    modal.id = "postModal";
    modal.style.cssText = `
      position:fixed;top:0;left:0;right:0;bottom:0;
      background:rgba(0,0,0,0.4);display:flex;
      justify-content:center;align-items:center;z-index:99999;
    `;
    modal.innerHTML = `
      <div id="postBox" style="
        background:#fff;max-width:600px;width:90%;
        padding:20px;border-radius:12px;max-height:80vh;
        overflow-y:auto;position:relative;box-shadow:0 4px 18px rgba(0,0,0,0.25);
      "></div>
    `;
    document.body.appendChild(modal);
    modal.onclick=(e)=>{if(e.target===modal) modal.remove();};
  }
  const box = modal.querySelector("#postBox");
  const imgHTML = p.img ? `<img src="${p.img}" style="width:100%;border-radius:8px;margin-bottom:12px;" alt="">` : "";
  box.innerHTML = `
    <h2 style="margin-top:0;color:#3558A8;">${p.title}</h2>
    <div style="color:#5C8EDB;font-size:12px;margin-bottom:8px;">
      ${p.author} Â· ${p.date}
    </div>
    ${imgHTML}
    <div style="white-space:pre-line;line-height:1.6;font-size:14px;margin-bottom:16px;">
      ${p.content}
    </div>
    <button type="button" onclick="document.getElementById('postModal').remove()"
      style="padding:6px 14px;border:1px solid #3558A8;border-radius:6px;background:#fff;color:#3558A8;cursor:pointer;">
      ë‹«ê¸°
    </button>
  `;
  modal.style.display="flex";
}
/* ================================
   ğŸ’¬ ë‹¤ë…€ê°„ í”ì  (habin-visitor)
================================ */
let visitor = JSON.parse(localStorage.getItem("habin-visitor") || "[]");
function saveVisitor(){
  localStorage.setItem("habin-visitor", JSON.stringify(visitor));
}
function addVisitorComment(){
  const t = document.getElementById("vtext").value.trim();
  if(!t) return;
  visitor.unshift({
    text:t,
    date:new Date().toLocaleString()
  });
  saveVisitor();
  renderVisitor();
  document.getElementById("vtext").value="";
}
function renderVisitor(){
  const v = document.getElementById("vlist");
  if(!v) return;
  v.innerHTML = visitor.map(x=>`
    <div style="border-top:1px dashed #ddd;padding:6px 0;">
      <div style="color:#2b2b2b;font-size:13px;">${x.text}</div>
      <div style="color:#999;font-size:11px;">${x.date}</div>
    </div>
  `).join("");
}
renderVisitor();
/* ================================
   â„ï¸ ì‚¬ê³„ì ˆ ìº”ë²„ìŠ¤ íš¨ê³¼
================================ */
(function(){
  const c = document.getElementById("seasonCanvas");
  if(!c) return;
  const ctx = c.getContext("2d");
  function resize(){
    c.width = innerWidth;
    c.height = innerHeight;
  }
  resize();
  window.addEventListener("resize",resize);
  let parts=[];
  function season(){
    const m=new Date().getMonth()+1;
    if(m>=3&&m<=5){ // ë´„
      parts=Array.from({length:30},()=>({
        x:Math.random()*c.width,
        y:Math.random()*c.height,
        s:Math.random()*5+2,
        vx:(Math.random()-0.5)*0.5,
        vy:Math.random()*0.5+0.2,
        shape:'flower',
        color:'rgba(255,192,203,0.85)'
      }));
    }else if(m>=6&&m<=8){ // ì—¬ë¦„
      parts=Array.from({length:20},()=>({
        x:Math.random()*c.width,
        y:Math.random()*c.height,
        s:Math.random()*6+3,
        vx:(Math.random()-0.5)*0.5,
        vy:Math.random()*0.5+0.3,
        shape:'leaf',
        color:'rgba(144,238,144,0.85)'
      }));
    }else if(m>=9&&m<=11){ // ê°€ì„ (ì†ë„ì™„í™”)
      parts=Array.from({length:30},()=>({
        x:Math.random()*c.width,
        y:Math.random()*c.height,
        s:Math.random()*7+3,
        vx:(Math.random()-0.5)*0.4,
        vy:Math.random()*0.4+0.15,
        shape:'leaf',
        color:'rgba(255,165,0,0.85)'
      }));
    }else{ // ê²¨ìš¸
      parts=Array.from({length:30},()=>({
        x:Math.random()*c.width,
        y:Math.random()*c.height,
        s:Math.random()*4+2,
        vx:(Math.random()-0.5)*0.3,
        vy:Math.random()*0.3+0.2,
        shape:'snow',
        color:'rgba(255,255,255,0.9)'
      }));
    }
  }
  season();
  function draw(){
    ctx.clearRect(0,0,c.width,c.height);
    parts.forEach(p=>{
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.s,0,Math.PI*2);
      ctx.fillStyle=p.color;
      ctx.fill();
      p.x+=p.vx;
      p.y+=p.vy;
      if(p.y>c.height+20) p.y=-10;
      if(p.x< -20) p.x=c.width+10;
      if(p.x>c.width+20) p.x=-10;
    });
    requestAnimationFrame(draw);
  }
  draw();
})();
/* ================================
   ğŸ‘¤ í”„ë¡œí•„ ì €ì¥/ë¡œë“œ (ìµœì‹  ì •ì‹ ë²„ì „)
================================ */
function defaultProfileHTML(){
  return `<h2>ë¿Œë¦¬ê¹Šì€ ê³ ëª©, í•˜ë¹ˆ</h2>
<p>ë¿Œë¦¬ëŠ” ì‹¬ì—°ì— ë‹¿ê³ ,<br>ê°€ì§€ëŠ” í•˜ëŠ˜ì— ë»—ì–´,<br>ë¬¼ì²˜ëŸ¼ íë¥´ê³  ë³„ì²˜ëŸ¼<br>ë¹›ë‚˜ëŠ” ê¸¸ì„ ê±·ëŠ”ë‹¤.</p>`;
}
function loadProfile(){
  const html = localStorage.getItem("hb.profile") || defaultProfileHTML();
  document.getElementById('profileBlock').innerHTML = html;
  document.getElementById('profileTextarea').value =
    html.replace(/<br>/g, "\n");
}
function saveProfile(){
  const v = document.getElementById('profileTextarea').value.trim();
  const html = v ? v.replace(/\n/g,"<br>") : defaultProfileHTML();
  localStorage.setItem("hb.profile", html);
  loadProfile();
  alert("í”„ë¡œí•„ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!");
}
loadProfile();
/* ================================
   ğŸŒ• Lightbox v2 Script
================================ */
(function(){
  const overlay = document.getElementById("lightboxOverlay");
  const imgBox = document.getElementById("lightboxImage");
  const closeBtn = document.getElementById("lightboxClose");
  if(!overlay || !imgBox || !closeBtn) return;
  document.addEventListener("click", e=>{
    const target = e.target;
    if(target.closest("#lightboxOverlay")) return;
    if(target.tagName === "IMG"){
      overlay.classList.add("active");
      imgBox.src = target.src;
    }
  });
  function close(){
    overlay.classList.remove("active");
    imgBox.src = "";
  }
  closeBtn.addEventListener("click", close);
  overlay.addEventListener("click", e=>{
    if(e.target === overlay) close();
  });
  document.addEventListener("keydown", e=>{
    if(e.key === "Escape") close();
  });
})();
/* ================================
   ğŸ–¼ ì‚¬ì´ë“œë°” ë¡œê³  / íˆì–´ë¡œ ìë™ ê´€ë¦¬
================================ */
(function(){
  const logoList = [
    "images/habin_logo.png",
    "images/logo/habin-logo-alt1.png"
  ];
  const logoEl = document.getElementById("sidebarLogo");
  if(!logoEl) return;
  const savedLogo = localStorage.getItem("habin-logo");
  if(savedLogo && logoList.includes(savedLogo)){
    logoEl.src = savedLogo;
  }
  logoEl.addEventListener('click', ()=>{
    if(localStorage.getItem("habin-admin")!=="on"){
      alert("ê´€ë¦¬ì ëª¨ë“œì—ì„œë§Œ ë¡œê³ ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
      return;
    }
    const next = prompt(
`êµì²´í•  ë¡œê³  ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
1) ê¸°ë³¸ ë¡œê³ 
2) ëŒ€ì²´ ë¡œê³  1
ì˜ˆ: 1`
    );
    if(!next) return;
    const n = parseInt(next,10);
    if(n>=1 && n<=logoList.length){
      logoEl.src = logoList[n-1];
      localStorage.setItem("habin-logo", logoList[n-1]);
      alert("ë¡œê³ ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!");
    }else{
      alert("í•´ë‹¹ ë²ˆí˜¸ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
    }
  });
})();
(function(){
  const heroEl = document.getElementById("heroMainImage");
  if(!heroEl) return;
  const heroList = [
    "images/hero/hero-main.png",
    "images/hero/hero-1.png",
    "images/hero/hero-2.png",
    "images/hero/hero-3.png",
    "images/hero/hero-habin.png"
  ];
  let idx = 0;
  const savedHero = localStorage.getItem("habin-hero");
  if(savedHero && heroList.includes(savedHero)){
    heroEl.src = savedHero;
    idx = heroList.indexOf(savedHero);
  }
  setInterval(()=>{
    idx = (idx + 1) % heroList.length;
    heroEl.src = heroList[idx];
    localStorage.setItem("habin-hero", heroList[idx]);
  }, 3 * 60 * 60 * 1000); // 3ì‹œê°„
  heroEl.addEventListener('click', ()=>{
    if(localStorage.getItem("habin-admin")!=="on") return;
    idx = (idx + 1) % heroList.length;
    heroEl.src = heroList[idx];
    localStorage.setItem("habin-hero", heroList[idx]);
    alert("ëŒ€í‘œ ì´ë¯¸ì§€ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!");
  });
})();
/* ================================
   ğŸ” ë³´í˜¸ ê²°ê³„ (ê°•í™”)
================================ */
(function(){
  document.addEventListener('contextmenu',e=>e.preventDefault());
  document.addEventListener('dragstart',e=>e.preventDefault());
  document.addEventListener('copy', e=>{
    e.preventDefault();
    alert('í•˜ë¹ˆ ìŠ¤íŠœë””ì˜¤ ì €ì‘ë¬¼ ë³´í˜¸ ì¤‘ ğŸŒ•\n\në³µì‚¬/ë¶™ì—¬ë„£ê¸°ê°€ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.');
  });
  document.addEventListener('cut', e=>{
    e.preventDefault();
    alert('í•˜ë¹ˆ ìŠ¤íŠœë””ì˜¤ ì €ì‘ë¬¼ ë³´í˜¸ ì¤‘ ğŸŒ•');
  });
  document.addEventListener('keydown', e=>{
    const k=e.key.toLowerCase();
    const ctrl=e.ctrlKey||e.metaKey, shift=e.shiftKey;
    if(
      e.key==='F12' ||
      (ctrl && (k==='u'||k==='s'||k==='c'||k==='p')) ||
      (ctrl&&shift&&(k==='i'||k==='j'||k==='c'))
    ){
      e.preventDefault();
      e.stopPropagation();
      alert('í•˜ë¹ˆ ìŠ¤íŠœë””ì˜¤ ë³´í˜¸ ëª¨ë“œ í™œì„±í™” âœ¦');
      return false;
    }
  },false);
})();
/* ğŸ”˜ ê¸€ì€ ë§ˆìŒì— ì§„ë™í•œë‹¤ â†’ ê´€ë¦¬ì íŒ¨ë„ í† ê¸€ */
document.getElementById("secretAdminBtn").addEventListener("click", ()=>{
  const panel = document.getElementById("admin-panel");
  panel.style.display = (panel.style.display === "block") ? "none" : "block";
});
/* ğŸ” ê´€ë¦¬ì ë¹„ë²ˆ ì¸ì¦ */
const adminBtn = document.getElementById("admin-onoff");
if(adminBtn){
  adminBtn.addEventListener("click", ()=>{
    const key = document.getElementById("admin-key").value.trim();
    if(key === "ê¸€ì§„ë™" || key === "rmfwlsehd"){  // â˜… í•˜ë¹ˆ ë¹„ë²ˆ
      localStorage.setItem("habin-admin", "on");
      alert("ê´€ë¦¬ì ëª¨ë“œ í™œì„±í™”!");
      location.reload();
    } else {
      alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
    }
  });
}
function isAdmin(){
  return localStorage.getItem("habin-admin") === "on";
}
/* ================================
   ğŸŸ¡ ê´€ë¦¬ì ëª¨ë“œ: ìˆ˜ì •/ì‚­ì œ/ê¸€ì“°ê¸° í™œì„±í™”
================================ */
(function(){
  if(localStorage.getItem("habin-admin") === "on"){
    // ìˆ˜ì • ë²„íŠ¼ í™œì„±í™”
    document.querySelectorAll(".edit").forEach(btn=>{
      btn.style.display = "block";
    });
    // ì‚­ì œ ë²„íŠ¼ í™œì„±í™”
    document.querySelectorAll(".del").forEach(btn=>{
      btn.style.display = "block";
    });
    // ê¸€ì“°ê¸° ì—ë””í„° ìë™ í‘œì‹œ
    const editor = document.getElementById("editor");
    if(editor){
      editor.style.display = "block";
    }
  }
})();
/* ============================================
   ğŸ“¦ ì¹´ë“œí˜• â†” ğŸ“„ ë¦¬ìŠ¤íŠ¸í˜• ë³´ê¸° ì „í™˜ ì‹œìŠ¤í…œ
============================================ */
let viewMode = localStorage.getItem("habin-viewMode") || "card";
/* ë²„íŠ¼ ìš”ì†Œ */
const btnCard = document.getElementById("btnCardView");
const btnList = document.getElementById("btnListView");
/* ë²„íŠ¼ UI ì—…ë°ì´íŠ¸ */
function updateViewButtons(){
  if(btnCard && btnList){
    if(viewMode === "card"){
      btnCard.style.background = "#FFEBA0";
      btnList.style.background = "#fff";
    }else{
      btnList.style.background = "#FFEBA0";
      btnCard.style.background = "#fff";
    }
  }
}
updateViewButtons();
/* ë²„íŠ¼ í´ë¦­ */
if(btnCard){
  btnCard.addEventListener("click", ()=>{
    viewMode = "card";
    localStorage.setItem("habin-viewMode","card");
    renderPosts();
    updateViewButtons();
  });
}
if(btnList){
  btnList.addEventListener("click", ()=>{
    viewMode = "list";
    localStorage.setItem("habin-viewMode","list");
    renderPosts();
    updateViewButtons();
  });
}
/* ê¸°ì¡´ renderPosts ì¬ì •ì˜(í™•ì¥) */
const oldRender = renderPosts;
renderPosts = function(){
  const cardsBox = document.getElementById("cards");
  if(viewMode === "card"){
    cardsBox.className = "card-grid";
    oldRender();
    return;
  }
  /* ë¦¬ìŠ¤íŠ¸ë·° ëª¨ë“œ */
  const start = (page-1)*per;
  const end = start + per;
  const list = posts.slice(start,end);
  let html = `
    <table class="list-table">
      <tr>
        <th style="width:60%;">ì œëª©</th>
        <th style="width:20%;">ì‘ì„±ì</th>
        <th style="width:20%;">ë‚ ì§œ</th>
      </tr>
  `;
  list.forEach(p=>{
    html += `
      <tr>
        <td class="list-title" onclick="openPost(${p.id})">${p.title}</td>
        <td>${p.author}</td>
        <td class="list-date">${p.date}</td>
      </tr>
    `;
  });
  html += `</table>`;
  cardsBox.className = "";
  cardsBox.innerHTML = html;
  /* í˜ì´ì§€ë„¤ì´ì…˜ì€ ê¸°ì¡´ ê·¸ëŒ€ë¡œ */
  const pages = document.getElementById("pages");
  const total = Math.ceil(posts.length/per) || 1;
  pages.innerHTML = "";
  for(let i=1;i<=total;i++){
    const b = document.createElement("button");
    b.className="page-btn";
    if(i===page) b.classList.add("active");
    b.textContent = i;
    b.onclick = ()=>{page=i; renderPosts();};
    pages.appendChild(b);
  }
};
/* ì´ˆê¸° ë Œë” */
renderPosts();
/* ============================================
   ğŸ”¥ 1ë²ˆ: ê²Œì‹œíŒ ê°ì§€ (ì—¬ê¸°ë¶€í„° ë¶™ì¸ë‹¤!)
============================================ */
function isBoardPage() {
  return location.hash === "#board";
}
/* ============================================
   ğŸ”¥ 2ë²ˆ: ê´€ë¦¬ì UI ì²˜ë¦¬
============================================ */
function applyAdminUI() {
  const onBoard = isBoardPage();
  const admin = isAdmin();
  // ê¸€ì“°ê¸°
  const editor = document.getElementById("editor");
  if(editor) editor.style.display = (admin && onBoard ? "block" : "none");
  // ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼
  document.querySelectorAll(".edit").forEach(el=>{
    el.style.display = (admin && onBoard ? "block" : "none");
  });
  document.querySelectorAll(".del").forEach(el=>{
    el.style.display = (admin && onBoard ? "block" : "none");
  });
}
/* ============================================
   ğŸ”¥ 3ë²ˆ: í•´ì‹œ(#) ë³€ê²½ ì‹œ ìë™ ì ìš©
============================================ */
window.addEventListener("hashchange", ()=>{
  renderPosts();
  applyAdminUI();
});
/* ============================================
   ğŸ”¥ 4ë²ˆ: ì²« ë¡œë”© ì‹œ 1íšŒ ì ìš©
============================================ */
document.addEventListener("DOMContentLoaded", ()=>{
  applyAdminUI();
});  
/* =============================================
   STEP 4 â€” í•˜ë¹ˆ ë³¸ë¬¸ ì—ë””í„° íˆ´ë°” ê¸°ëŠ¥ ì—°ê²°
============================================= */
// ê³µí†µ ì‹¤í–‰ í•¨ìˆ˜ (execCommand ê¸°ë°˜)
function hbExec(cmd, val = null){
  document.execCommand(cmd, false, val);
  document.getElementById("content").focus();
}
// ì´ë¯¸ì§€ ì‚½ì… ê¸°ëŠ¥
function hbInsertImg(){
  const file = document.getElementById('hb-img').files[0];
  if(!file) return;
  const reader = new FileReader();
  reader.onload = function (e) {
    // ë³¸ë¬¸ ìœ„ì¹˜ì— ì´ë¯¸ì§€ ì‚½ì…
    document.execCommand('insertImage', false, e.target.result);
    // ì‚½ì…ëœ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ ìë™ ì¡°ì •
    setTimeout(()=>{
      const imgs = document.querySelectorAll("#content img");
      const last = imgs[imgs.length - 1];
      if(last){
        last.style.maxWidth = "100%";
        last.style.borderRadius = "8px";
        last.style.margin = "10px 0";
      }
    }, 10);
  };

  reader.readAsDataURL(file);
}
</script>
</body>
</html>












































